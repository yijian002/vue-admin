webpackJsonp([1],{182:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(334),o=i(s),r=a(332),n=i(r),l=a(333),u=i(l),c=a(338),d=i(c),p=a(337),m=i(p),g=a(339),f=i(g),h=a(335),v=i(h),_=a(336),b=i(_),y=a(340),k=i(y),w=a(80),x=i(w),F=function(e){if(!e.isMenu)return!0;for(var t=!0,a=0;a<e.children.length;a++){var i=e.children[a];if(!i.hidden(i.path)){t=!1;break}}return t},L=function(e){var t=JSON.parse(sessionStorage.getItem("user"));return(t.group_authority?JSON.parse(t.group_authority):[]).indexOf(e)<0},P=[{path:"/login",component:o.default,name:"",hidden:F},{path:"/404",component:n.default,name:"",hidden:F},{path:"/index",hidden:F,redirect:{path:"/launchUpdatePackage"}}],$=[{path:"*",hidden:F,redirect:{path:"/404"}}],S=[{path:"",component:u.default,name:"投放管理",isMenu:!0,hidden:F,iconCls:"el-icon-sold-out",children:[{path:"/launchUpdatePackage",component:d.default,name:"更新包清单",hidden:L},{path:"/launchRevoke",component:m.default,name:"投放/撤销",hidden:L},{path:"/launchVoiceResource",component:f.default,name:"语音资源",hidden:L}]},{path:"",component:u.default,name:"配置管理",isMenu:!0,hidden:F,iconCls:"el-icon-document",children:[{path:"/configControlUrlParams",component:v.default,name:"控制台URL参数",hidden:L},{path:"/configVersionLimit",component:b.default,name:"版本限制",hidden:L}]},{path:"",component:u.default,name:"系统管理",isMenu:!0,hidden:F,iconCls:"el-icon-setting",children:[{path:"/systemUsers",component:k.default,name:"用户管理",hidden:L}]}],R=x.default.mergeArr(P,S,$);t.default=R},274:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[{value:1,label:"桌面投放"},{value:2,label:"lol助手投放"},{value:3,label:"控制台程序"},{value:6,label:"计费代理投放"},{value:7,label:"egs投放"},{value:10,label:"语音大师程序包"}];t.default={packageType:i,packageTypes:function(){return Array.prototype.concat.apply([],arguments)}({value:0,label:"不限"},i),findPackageName:function(e){for(var t="",a=0;a<i.length;a++)if(i[a].value===e){t=i[a].label;break}return t},forceType:[{value:0,label:"普通更新"},{value:1,label:"重启更新"},{value:2,label:"提示更新"}],defaultpath:["[DESKTOP]","[ROOT]","[WINDOWS]","[CUR]"]}},275:function(e,t,a){a(357);var i=a(26)(a(706),a(344),null,null);e.exports=i.exports},276:function(e,t){},277:function(e,t){},280:function(e,t,a){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(16),r=s(o),n=a(181),l=s(n),u=a(716),c=i(u),d=a(717),p=i(d);r.default.use(l.default);var m={count:10},g={INCREMENT:function(e){e.count++},DECREMENT:function(e){e.count--}};t.default=new l.default.Store({actions:c,getters:p,state:m,mutations:g})},281:function(e,t,a){var i=a(610),s=a(282);e.exports=i(s,{NODE_ENV:'"development"',LOG_DEBUG:!0,IS_HTTP_PROXY:!0,HTTP_PROXY_TARGET:"http://10.34.53.178:8000",HTTP_PROXY_CONTEXT:["/sysmanage","/throw_strategy","/console_configuration"]})},282:function(e,t){e.exports={NODE_ENV:'"production"',LOG_DEBUG:!1}},332:function(e,t,a){a(360);var i=a(26)(null,a(349),"data-v-822bedfc",null);e.exports=i.exports},333:function(e,t,a){a(361);var i=a(26)(a(707),a(350),"data-v-b67c7db6",null);e.exports=i.exports},334:function(e,t,a){a(354);var i=a(26)(a(708),a(341),"data-v-115b4a13",null);e.exports=i.exports},335:function(e,t,a){var i=a(26)(a(709),a(346),null,null);e.exports=i.exports},336:function(e,t,a){var i=a(26)(a(710),a(348),null,null);e.exports=i.exports},337:function(e,t,a){a(359);var i=a(26)(a(711),a(347),null,null);e.exports=i.exports},338:function(e,t,a){a(358);var i=a(26)(a(712),a(345),null,null);e.exports=i.exports},339:function(e,t,a){a(355);var i=a(26)(a(713),a(342),"data-v-21d65baa",null);e.exports=i.exports},340:function(e,t,a){a(356);var i=a(26)(a(714),a(343),"data-v-3989d3ce",null);e.exports=i.exports},341:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-container",attrs:{model:e.ruleForm2,rules:e.rules2,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"title"},[e._v("【网吧管家】运营后台登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm2.account,callback:function(t){e.$set(e.ruleForm2,"account",t)},expression:"ruleForm2.account"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"checkPass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm2.checkPass,callback:function(t){e.$set(e.ruleForm2,"checkPass",t)},expression:"ruleForm2.checkPass"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e._v("登录")])],1)],1)},staticRenderFns:[]}},342:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-tabs",{staticStyle:{"margin-top":"10px"},attrs:{type:"card"},on:{"tab-click":e.tabClick}},e._l(e.tabs,function(e){return a("el-tab-pane",{attrs:{label:e.name}})})),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"32px"},attrs:{span:16}},[e._v("当前个数："+e._s(e.total_num)+"         当前资源类型总个数："+e._s(e.total_size)+"kb\n\t\t\t\t"),a("el-button",{staticStyle:{"margin-left":"40px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.addFormVisible=!0}}},[e._v("添加语音")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[a("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.updateStrategy}},[a("b",[e._v("更新策略")])])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"filename",label:"文件名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isize",label:"大小"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",plain:""},on:{click:function(a){e.delVoice(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加语音",visible:e.addFormVisible,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{attrs:{size:"mini","label-width":"95px"}},[a("el-form-item",{attrs:{label:"语音文件"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/throw_strategy/voice/",limit:1,"on-success":e.handleFileSuccess,"on-error":e.handleFileError,"file-list":e.addFileList,data:e.addForm,"auto-upload":!1,accept:".mp3,.wav"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择语音文件")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addVoice}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]}},343:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("h3",[e._v("用户组")])]),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAddGroup}},[e._v("增加组")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listGroupLoading,expression:"listGroupLoading"}],staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.listGroup,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"tgroup_name",label:"用户组名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tmember_count",label:"组内成员"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tlast_time",label:"更新时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(a){e.handleEditGroup(t.$index,t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",plain:""},on:{click:function(a){e.handleDelGroup(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.groupFormIsAdd?"添加用户组":"编辑用户组",visible:e.groupFormVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.groupFormVisible=t}}},[a("el-form",{ref:"groupForm",staticStyle:{width:"360px",margin:"0 auto"},attrs:{size:"small",model:e.groupForm,rules:e.groupFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户组名称",prop:"tgroup_name",required:""}},[a("el-input",{attrs:{maxlength:10,disabled:!e.groupFormIsAdd},model:{value:e.groupForm.tgroup_name,callback:function(t){e.$set(e.groupForm,"tgroup_name",t)},expression:"groupForm.tgroup_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户组权限"}},[a("el-tree",{ref:"groupMenuTree",attrs:{data:e.groupMenuTree,props:e.defaultProps,"node-key":"path","show-checkbox":"","default-expand-all":"","check-on-click-node":"","expand-on-click-node":!1,"default-checked-keys":e.groupForm.tgroup_authority}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveGroup}},[e._v("保存")])],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("h3",[e._v("用户")])]),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAddUser}},[e._v("增加用户")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listUserLoading,expression:"listUserLoading"}],staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.listUser,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"tuser_account",label:"帐号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tuser_name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tcreater",label:"创建人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tcreater_time",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tlogin_time",label:"最后登录时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(a){e.handleEditUser(t.$index,t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",plain:""},on:{click:function(a){e.handleDelUser(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.userFormIsAdd?"添加用户":"编辑用户",visible:e.userFormVisible,"close-on-click-modal":!1,width:"400px"},on:{"update:visible":function(t){e.userFormVisible=t}}},[a("el-form",{ref:"userForm",staticStyle:{width:"290px",margin:"0 auto"},attrs:{size:"small",model:e.userForm,rules:e.userFormRules,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"tuser_account",required:""}},[a("el-input",{attrs:{maxlength:10,disabled:!e.userFormIsAdd},model:{value:e.userForm.tuser_account,callback:function(t){e.$set(e.userForm,"tuser_account",t)},expression:"userForm.tuser_account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"tuser_pwd",required:""}},[a("el-input",{attrs:{maxlength:20},model:{value:e.userForm.tuser_pwd,callback:function(t){e.$set(e.userForm,"tuser_pwd",t)},expression:"userForm.tuser_pwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"tuser_name",required:""}},[a("el-input",{attrs:{maxlength:10},model:{value:e.userForm.tuser_name,callback:function(t){e.$set(e.userForm,"tuser_name",t)},expression:"userForm.tuser_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户组",prop:"tgroup_id",required:""}},[a("el-select",{model:{value:e.userForm.tgroup_id,callback:function(t){e.$set(e.userForm,"tgroup_id",t)},expression:"userForm.tgroup_id"}},e._l(e.listGroup,function(e){return a("el-option",{key:e.tgroup_id,attrs:{label:e.tgroup_name,value:e.tgroup_id}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveUser}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]}},344:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)},staticRenderFns:[]}},345:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{size:"small",inline:!0}},[a("el-form-item",{attrs:{label:"更新包类型"}},[a("el-select",{model:{value:e.optionsValue,callback:function(t){e.optionsValue=t},expression:"optionsValue"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.queryList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.handleListAdd}},[e._v("添加更新包")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"itype_name",label:"更新包类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"szipname",label:"版本号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"iinserttime",label:"上传时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sremark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"throw_count",label:"已投网吧"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"mini",disabled:!!t.row.idefault,plain:""},on:{click:function(a){e.handleListExport(t.$index,t.row)}}},[e._v("导出")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"mini",plain:""},on:{click:function(a){e.handleListDownload(t.$index,t.row)}}},[e._v("下载")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){e.handleListShowStrategy(t.$index,t.row)}}},[e._v("策略")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",plain:""},on:{click:function(a){e.handleListDel(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","current-page":e.page,"page-size":e.page_limit,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"上传",visible:e.addFormVisible,"close-on-click-modal":!1,width:"350px"},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{size:"small",model:e.addForm,rules:e.addFormRules,"label-width":"95px"}},[a("el-form-item",{attrs:{label:"更新包类型",prop:"itype",required:""}},[a("el-select",{model:{value:e.addForm.itype,callback:function(t){e.$set(e.addForm,"itype",t)},expression:"addForm.itype"}},e._l(e.optionsAdd,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"版本号",prop:"szipname",required:""}},[a("el-input",{attrs:{maxlength:20},model:{value:e.addForm.szipname,callback:function(t){e.$set(e.addForm,"szipname",t)},expression:"addForm.szipname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传更新包",required:""}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"/throw_strategy/zipfile/",limit:1,"on-success":e.handleFileSuccess,"on-error":e.handleFileError,"file-list":e.addFileList,accept:".zip"}},[a("el-button",{attrs:{type:"primary"}},[e._v("立即上传"),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{maxlength:20},model:{value:e.addForm.sremark,callback:function(t){e.$set(e.addForm,"sremark",t)},expression:"addForm.sremark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addList}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"更新策略配置",visible:e.updateStrategyVisible,"close-on-click-modal":!1,width:"1000px"},on:{"update:visible":function(t){e.updateStrategyVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.updateStrategyList,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"filename",label:"文件名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"szipname",label:"版本号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"iupok_txt",label:"上传状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"默认路径"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini"},model:{value:t.row.defaultpath,callback:function(a){e.$set(t.row,"defaultpath",a)},expression:"scope.row.defaultpath"}},e._l(e.optionsDefaultpath,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini"},model:{value:t.row.irun,callback:function(a){e.$set(t.row,"irun",a)},expression:"scope.row.irun"}},[a("el-option",{key:1,attrs:{label:"仅下载",value:1}}),e._v(" "),a("el-option",{key:2,attrs:{label:"下载运行",value:2}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"优先级",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini"},model:{value:t.row.ilevel,callback:function(a){e.$set(t.row,"ilevel",a)},expression:"scope.row.ilevel"}},[a("el-option",{key:2,attrs:{label:"不重要",value:2}}),e._v(" "),a("el-option",{key:1,attrs:{label:"重要",value:1}})],1)]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitUpdateStrategy}},[e._v("提交更新包")])],1)],1)],1)},staticRenderFns:[]}},346:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.list,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"参数类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"URL地址"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit",plain:""},on:{click:function(a){e.handleEdit(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"修改URL地址",visible:e.editFormVisible,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{size:"mini",model:e.editForm,"label-width":"180px"}},[a("el-form-item",{attrs:{label:e.editForm.name}},[a("el-input",{model:{value:e.editForm.url,callback:function(t){e.$set(e.editForm,"url",t)},expression:"editForm.url"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editList(e.editForm.idx)}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]}},347:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-tabs",{staticStyle:{height:"200px","margin-top":"20px"},attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"投 放"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"line-right",attrs:{span:6}},[a("h3",[e._v("按帐号投放更新包")]),e._v(" "),a("el-form",{ref:"packageForm",attrs:{size:"mini",model:e.formPackage,"label-position":"left","label-width":"86px"}},[a("el-form-item",{attrs:{label:"更新包类型"}},[a("el-select",{on:{change:e.updateFormPackageVersion},model:{value:e.formPackage.itype,callback:function(t){e.$set(e.formPackage,"itype",t)},expression:"formPackage.itype"}},e._l(e.options.packageType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"版本号"}},[a("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.formPackageVersionLoading,expression:"formPackageVersionLoading"}],model:{value:e.formPackage.szipname,callback:function(t){e.$set(e.formPackage,"szipname",t)},expression:"formPackage.szipname"}},e._l(e.formPackageVersion,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"更新类型"}},[a("el-select",{model:{value:e.formPackage.force_type,callback:function(t){e.$set(e.formPackage,"force_type",t)},expression:"formPackage.force_type"}},e._l(e.options.updateType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",[a("el-checkbox",{attrs:{label:"强制更新",name:"force_update"},model:{value:e.formPackage.force_update,callback:function(t){e.$set(e.formPackage,"force_update",t)},expression:"formPackage.force_update"}}),e._v(" "),a("el-checkbox",{staticStyle:{"margin-left":"40px"},attrs:{label:"紧急更新",name:"urgency"},model:{value:e.formPackage.urgency,callback:function(t){e.$set(e.formPackage,"urgency",t)},expression:"formPackage.urgency"}})],1),e._v(" "),a("el-input",{staticStyle:{"margin-top":"20px"},attrs:{type:"textarea",placeholder:"输入网吧帐号，逗号隔开。"},model:{value:e.formPackage.id_list,callback:function(t){e.$set(e.formPackage,"id_list",t)},expression:"formPackage.id_list"}}),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"更新包备注"}},[a("el-input",{model:{value:e.formPackage.sremark,callback:function(t){e.$set(e.formPackage,"sremark",t)},expression:"formPackage.sremark"}})],1),e._v(" "),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"medium",type:"primary"},on:{click:e.addPackage}},[e._v("确认投放")])],1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("h3",[e._v("默认更新包")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoadingUpdatePackage,expression:"listLoadingUpdatePackage"}],staticStyle:{width:"100%"},attrs:{data:e.listUpdatePackage,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"itype_name",label:"更新包类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"szipname",label:"版本号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sdefault",label:"投放人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"iinserttime",label:"投放时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){e.handleUpdatePackage(t.$index,t.row)}}},[e._v("更改")])]}}])})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"查询或撤销"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{size:"mini",inline:!0}},[a("el-form-item",{attrs:{label:"更新包类型"}},[a("el-select",{on:{change:e.updateFormRevokeVersion},model:{value:e.formRevoke.itype,callback:function(t){e.$set(e.formRevoke,"itype",t)},expression:"formRevoke.itype"}},e._l(e.options.packageTypes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"版本号"}},[a("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.formRevokeVersionLoading,expression:"formRevokeVersionLoading"}],model:{value:e.formRevoke.szipname,callback:function(t){e.$set(e.formRevoke,"szipname",t)},expression:"formRevoke.szipname"}},e._l(e.formRevokeVersion,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"帐号"}},[a("el-input",{attrs:{maxlength:40},model:{value:e.formRevoke.snbid,callback:function(t){e.$set(e.formRevoke,"snbid",t)},expression:"formRevoke.snbid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.formRevoke.page=1,e.getListRevoke()}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoadingRevoke,expression:"listLoadingRevoke"}],staticStyle:{width:"100%"},attrs:{data:e.listRevoke,"highlight-current-row":""},on:{"selection-change":e.selsRevokesChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"snbid",label:"帐号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"itype_name",label:"更新包类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inman",label:"投放人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"szipname",label:"版本号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"iinserttime",label:"投放时间"}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",size:"small",disabled:0===this.selsRevoke.length},on:{click:e.removeRevokes}},[e._v("撤销选中")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","current-page":e.formRevoke.page,"page-size":e.formRevoke.page_limit,total:e.formRevoke.total},on:{"current-change":e.handleCurrentChangeRevoke}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"设置默认包",visible:e.updatePackageFormVisible,"close-on-click-modal":!1,width:"400px"},on:{"update:visible":function(t){e.updatePackageFormVisible=t}}},[a("el-form",{ref:"updatePackageForm",attrs:{size:"mini",model:e.updatePackageForm,"label-width":"95px"}},[a("el-form-item",{attrs:{label:"更新包类型"}},[a("b",[e._v(e._s(e.updatePackageForm.itype_name))])]),e._v(" "),a("el-form-item",{attrs:{label:"版本号"}},[a("el-select",{model:{value:e.updatePackageForm.szipname,callback:function(t){e.$set(e.updatePackageForm,"szipname",t)},expression:"updatePackageForm.szipname"}},e._l(e.updatePackageFormVersion,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[e._v(e._s(e.updatePackageForm.sremark))])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.UpdatePackage}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"投放结果",visible:e.addPackageResultVisible,"close-on-click-modal":!1,width:"800px"},on:{"update:visible":function(t){e.addPackageResultVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{margin:"0 0 10px 20px"}},[e._v("成功："+e._s(e.addPackageResultSuccess.length))]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:20,readonly:!0},model:{value:e.addPackageResultSuccess.join("\n"),callback:function(t){e.$set(e.addPackageResultSuccess,"join('\n')",t)},expression:"addPackageResultSuccess.join('\n')"}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{margin:"0 0 10px 20px"}},[e._v("失败："+e._s(e.addPackageResultFail.length))]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:20,readonly:!0},model:{value:e.addPackageResultFail.join("\n"),callback:function(t){e.$set(e.addPackageResultFail,"join('\n')",t)},expression:"addPackageResultFail.join('\n')"}})],1)],1)],1)],1)},staticRenderFns:[]}},348:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-tabs",{staticStyle:{height:"200px","margin-top":"20px"},attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"投 放"}},[a("el-form",{staticStyle:{width:"400px","margin-top":"10px"},attrs:{size:"mini","label-width":"150px"}},[a("el-form-item",{attrs:{label:"限制控制台最低版本"}},[a("el-input",{attrs:{maxlength:20,placeholder:"空版本为不限制"},model:{value:e.formLaunch.version,callback:function(t){e.$set(e.formLaunch,"version",t)},expression:"formLaunch.version"}})],1),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"输入网吧帐号，逗号隔开。"},model:{value:e.formLaunch.snbids,callback:function(t){e.$set(e.formLaunch,"snbids",t)},expression:"formLaunch.snbids"}}),e._v(" "),a("el-button",{staticStyle:{margin:"20px 0 0 20px"},attrs:{size:"medium",type:"primary"},on:{click:e.addLaunch}},[e._v("确认投放")])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"查询或撤销"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{size:"mini",inline:!0}},[a("el-form-item",{attrs:{label:"帐号"}},[a("el-input",{attrs:{maxlength:40},model:{value:e.formList.snbid,callback:function(t){e.$set(e.formList,"snbid",t)},expression:"formList.snbid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.getList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"info"},on:{click:e.exportList}},[e._v("导出查询结果")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"snbid",label:"帐号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"限制版本号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inman",label:"投放人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"iinserttime",label:"投放时间"}})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",size:"small",disabled:0===this.selsList.length},on:{click:e.removeList}},[e._v("撤销选中")])],1)],1)],1)],1)},staticRenderFns:[]}},349:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("p",{staticClass:"page-container"},[e._v("404 page not found")])},staticRenderFns:[]}},350:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"container"},[a("el-col",{staticClass:"header",attrs:{span:24}},[a("el-col",{staticClass:"logo",class:e.collapsed?"logo-collapse-width":"logo-width",attrs:{span:10}},[e._v("\n            "+e._s(e.collapsed?"":e.sysName)+"\n        ")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"tools",on:{click:function(t){return t.preventDefault(),e.collapse(t)}}},[a("i",{staticClass:"fa fa-align-justify"})])]),e._v(" "),a("el-col",{staticClass:"userinfo",attrs:{span:4}},[a("el-dropdown",{attrs:{trigger:"hover"}},[a("span",{staticClass:"el-dropdown-link userinfo-inner"},[a("img",{staticClass:"userhead"}),e._v(" "+e._s(e.sysUserName))]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)],1),e._v(" "),a("el-col",{staticClass:"main",attrs:{span:24}},[a("aside",{class:e.collapsed?"menu-collapsed":"menu-expanded"},[a("el-menu",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"el-menu-vertical-demo",staticStyle:{width:"auto"},attrs:{"default-active":e.$route.path,"unique-opened":"",router:""},on:{open:e.handleopen,close:e.handleclose,select:e.handleselect}},[e._l(e.$router.options.routes,function(t,i){return t.hidden(t)?e._e():[t.leaf?e._e():a("el-submenu",{attrs:{index:i+""}},[a("template",{slot:"title"},[a("i",{class:t.iconCls}),e._v(e._s(t.name))]),e._v(" "),e._l(t.children,function(t){return t.hidden(t.path)?e._e():a("el-menu-item",{key:t.path,attrs:{index:t.path}},[e._v(e._s(t.name))])})],2),e._v(" "),t.leaf&&t.children.length?a("el-menu-item",{attrs:{index:t.children[0].path}},[a("i",{class:t.iconCls}),e._v(e._s(t.children[0].name))]):e._e()]})],2),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],ref:"menuCollapsed",staticClass:"el-menu el-menu-vertical-demo collapsed"},e._l(e.$router.options.routes,function(t,i){return t.hidden(t)?e._e():a("li",{staticClass:"el-submenu item"},[t.leaf?[a("li",{staticClass:"el-submenu"},[a("div",{staticClass:"el-submenu__title el-menu-item",class:e.$route.path==t.children[0].path?"is-active":"",staticStyle:{"padding-left":"20px",height:"56px","line-height":"56px",padding:"0 20px"},on:{click:function(a){e.$router.push(t.children[0].path)}}},[a("i",{class:t.iconCls})])])]:[a("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"},on:{mouseover:function(t){e.showMenu(i,!0)},mouseout:function(t){e.showMenu(i,!1)}}},[a("i",{class:t.iconCls})]),e._v(" "),a("ul",{staticClass:"el-menu submenu",class:"submenu-hook-"+i,on:{mouseover:function(t){e.showMenu(i,!0)},mouseout:function(t){e.showMenu(i,!1)}}},e._l(t.children,function(t){return t.hidden(t.path)?e._e():a("li",{key:t.path,staticClass:"el-menu-item",class:e.$route.path==t.path?"is-active":"",staticStyle:{"padding-left":"40px"},on:{click:function(a){e.$router.push(t.path)}}},[e._v(e._s(t.name))])}))]],2)}))],1),e._v(" "),a("section",{staticClass:"content-container"},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[a("strong",{staticClass:"title",staticStyle:{"font-size":"18px"}},[e._v(e._s(e.$route.name))]),e._v(" "),a("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.$route.matched,function(t){return a("el-breadcrumb-item",[e._v(e._s(t.name))])}))],1),e._v(" "),a("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]}},354:function(e,t){},355:function(e,t){},356:function(e,t){},357:function(e,t){},358:function(e,t){},359:function(e,t){},360:function(e,t){},361:function(e,t){},56:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestLogin=void 0;var i=a(284),s=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default={get:function(e,t){return s.default.get(""+e,{params:t||{}}).then(function(e){return e.data}).catch(function(e){return{code:500,message:e.message}})},post:function(e,t){return s.default.post(""+e,t||{}).then(function(e){return e.data}).catch(function(e){return{code:500,message:e.message}})},put:function(e,t){return s.default.put(""+e,t||{}).then(function(e){return e.data}).catch(function(e){return{code:500,message:e.message}})},del:function(e,t){return s.default.delete(""+e,{params:t||{}}).then(function(e){return e.data}).catch(function(e){return{code:500,message:e.message}})},gourl:function(e,t){var a=[];for(var i in t)a.push(i+"="+t[i]);window.location.href=e+"?"+a.join("&")}};t.requestLogin=function(e){return s.default.post("/sysmanage/login/",e).then(function(e){return e.data})}},706:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",components:{}}},707:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{sysName:"网吧管家运营后台",collapsed:!1,sysUserName:"",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},methods:{handleopen:function(){},handleclose:function(){},handleselect:function(e,t){},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("user"),e.$router.push("/login")})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"}},mounted:function(){var e=sessionStorage.getItem("user");e&&(e=JSON.parse(e),this.sysUserName=e.tuser_name||"")}}},708:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(272),s=function(e){return e&&e.__esModule?e:{default:e}}(i),o=a(56);t.default={data:function(){return{logining:!1,ruleForm2:{account:"",checkPass:""},rules2:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],checkPass:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{handleSubmit:function(){var e=this;this.$refs.ruleForm2.validate(function(t){if(t){e.logining=!0;var a={tuser_account:e.ruleForm2.account,tuser_pwd:e.ruleForm2.checkPass};(0,o.requestLogin)(a).then(function(t){e.logining=!1;var a=t.message,i=t.code,o=t.data;0!==i?e.$message({message:a||"登录失败，请检查输入是否正确！",type:"error"}):(sessionStorage.setItem("user",(0,s.default)(o)),e.$router.push({path:"/index"}))})}})}}}},709:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(56),s=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default={data:function(){return{editFormVisible:!1,editForm:{idx:"",name:"",url:""},listLoading:!1,list:[]}},methods:{getList:function(){var e=this;this.listLoading=!0,s.default.get("/console_configuration/url/").then(function(t){if(e.listLoading=!1,0!==t.code)return void e.$message({message:t.message,type:"error"});e.list=[{name:"万象OL管理后台地址",url:t.data.wx_ol_manage_url,key:"wx_ol_manage_url"},{name:"PubwinOL管理后台地址",url:t.data.pb_ol_manage_url,key:"pb_ol_manage_url"},{name:"全网版管理后台地址",url:t.data.total_manage_url,key:"total_manage_url"},{name:"帮助中心地址",url:t.data.helper_center_url,key:"helper_center_url"}]})},editList:function(e){var t=this;if(!this.editForm.url)return void this.$message({message:"请输入URL地址",type:"warning"});this.list[e].url=this.editForm.url;for(var a={},i=0;i<this.list.length;i++){var o=this.list[i];a[o.key]=o.url}this.editFormVisible=!1,s.default.put("/console_configuration/url/",a).then(function(e){if(t.getList(),0!==e.code)return void t.$message({message:e.message,type:"warning"});t.$message({message:"保存成功",type:"success"})})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm={idx:e,name:t.name,url:t.url}}},mounted:function(){this.getList()}}},710:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(79),o=i(s),r=a(56),n=i(r),l=a(80),u=i(l);t.default={data:function(){return{formLaunch:{version:"",snbids:""},formList:{snbid:"",page:1,page_limit:1e3},listLoading:!1,list:[],selsList:[]}},methods:{addLaunch:function(){var e=this;if(!this.formLaunch.snbids)return void this.$message({message:"请输入网吧帐号",type:"warning"});var t=this.formLaunch.snbids.split(","),a={version:this.formLaunch.version,snbids:t};n.default.post("/console_configuration/version/",a).then(function(t){if(0!==t.code)return void e.$message({message:t.message,type:"warning"});e.$message({message:"投放操作成功",type:"success"}),e.formLaunch={version:"",snbids:""}})},getList:function(){var e=this,t=(0,o.default)({},this.formList);this.listLoading=!0,n.default.get("/console_configuration/version/",t).then(function(t){e.listLoading=!1,t.data=t.data||[];for(var a=0;a<t.data.length;a++){var i=t.data[a];i.iinserttime=u.default.getDate(i.iinserttime)}e.list=t.data})},removeList:function(){var e=this,t=this.selsList.map(function(e){return e.id});this.$confirm("正在撤销"+t.length+"个帐号的投放，点击确定继续撤销","撤销提示",{type:"warning"}).then(function(){e.listLoading=!0,n.default.del("/console_configuration/version/",{id:t}).then(function(t){if(e.listLoading=!1,0!==t.code)return void e.$message({message:t.message,type:"warning"});e.$message({message:"撤销成功",type:"success"}),e.getList()})})},exportList:function(){n.default.gourl("/console_configuration/export",{itype:1,snbid:this.formList.snbid})},selsChange:function(e){this.selsList=e}},mounted:function(){this.getList()}}},711:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(79),o=i(s),r=a(69),n=a(80),l=i(n),u=a(274),c=i(u),d=a(56),p=i(d),m={getPackageVersion:function(e,t,a){p.default.get("/throw_strategy/package_menu/",{itype:e,idefault:t}).then(function(e){if(0!==e.code)return void a([]);a(e.data||[])})}};t.default={data:function(){return{options:{packageTypes:c.default.packageTypes,packageType:c.default.packageType,updateType:c.default.forceType},formPackage:{itype:"",szipname:"",id_list:"",force_type:0,force_update:!1,urgency:!1,sremark:""},formRevoke:{itype:0,szipname:"",snbid:"",total:0,page:1,page_limit:20},formPackageVersion:[],formPackageVersionLoading:!1,formRevokeVersion:[],formRevokeVersionLoading:!1,listPackage:{page:1,page_limit:100},listLoadingUpdatePackage:!1,listUpdatePackage:[],addPackageResultVisible:!1,addPackageResultSuccess:[],addPackageResultFail:[],updatePackageFormVisible:!1,updatePackageForm:{},updatePackageFormVersion:[],listLoadingRevoke:!1,listRevoke:[],selsRevoke:[]}},methods:{getListPackage:function(){var e=this,t=(0,o.default)({},this.listPackage);this.listLoadingUpdatePackage=!0,p.default.get("/throw_strategy/strategy_package/",t).then(function(t){e.listLoadingUpdatePackage=!1,t.data=t.data||[];for(var a=0;a<t.data.length;a++)t.data[a].itype_name=c.default.findPackageName(t.data[a].itype),t.data[a].throw_count=t.data[a].idefault?"默认包":t.data[a].throw_count;e.listUpdatePackage=t.data})},addPackage:function(){var e=this,t=(0,o.default)({},this.formPackage);return t.force_update=t.force_update?1:0,t.urgency=t.urgency?1:0,t.id_list=t.id_list?t.id_list.split(","):"",t.itype?t.szipname?t.id_list?void this.$confirm("确认投放更新包吗？","投放提示",{type:"warning"}).then(function(){var a=r.Loading.service({fullscreen:!0,text:"提交投放更新..."});p.default.post("/throw_strategy/strategy_package/",t).then(function(t){if(a.close(),0!==t.code)return void e.$message({message:t.message,type:"warning"});void 0!==e.$refs.packageForm?e.$refs.packageForm.resetFields():e.formPackage={itype:"",szipname:"",id_list:"",force_type:0,force_update:!1,urgency:!1,sremark:""},e.addPackageResultVisible=!0,e.addPackageResultSuccess=t.data.success||[],e.addPackageResultFail=t.data.failed||[],e.getListRevoke()})}):void this.$message({message:"请输入投放的网吧帐号，逗号隔开",type:"warning"}):void this.$message({message:"请选择版本号",type:"warning"}):void this.$message({message:"请选择更新包类型",type:"warning"})},updateFormPackageVersion:function(){var e=this;this.formPackageVersionLoading=!0,m.getPackageVersion(this.formPackage.itype,0,function(t){e.formPackage.szipname="",e.formPackageVersionLoading=!1,e.formPackageVersion=t})},handleUpdatePackage:function(e,t){var a=this;this.updatePackageFormVisible=!0,this.updatePackageForm=t,m.getPackageVersion(t.itype,0,function(e){a.updatePackageFormVersion=e})},UpdatePackage:function(){var e=this,t={szipname:this.updatePackageForm.szipname,itype:this.updatePackageForm.itype};p.default.put("/throw_strategy/strategy_package/",t).then(function(t){if(0!==t.code)return void e.$message({message:t.message,type:"warning"});e.updatePackageFormVisible=!1,e.$message({message:"设置成功",type:"success"}),e.getListPackage()})},updateFormRevokeVersion:function(){var e=this;this.formRevokeVersionLoading=!0,m.getPackageVersion(this.formRevoke.itype,"",function(t){e.formRevoke.szipname="",e.formRevokeVersionLoading=!1,e.formRevokeVersion=t})},getListRevoke:function(){var e=this,t=(0,o.default)({},this.formRevoke);this.listLoadingRevoke=!0,p.default.get("/throw_strategy/record/",t).then(function(t){e.listLoadingRevoke=!1,e.formRevoke.total=t.total,t.data=t.data||[];for(var a=0;a<t.data.length;a++){var i=t.data[a];i.itype_name=c.default.findPackageName(i.itype),i.iinserttime=l.default.getDate(i.iinserttime)}e.listRevoke=t.data})},handleCurrentChangeRevoke:function(e){this.formRevoke.page=e,this.getListRevoke()},removeRevokes:function(){var e=this,t=this.selsRevoke.map(function(e){return e.id});this.$confirm("正在撤销"+t.length+"个帐号的投放，点击确定继续撤销","撤销提示",{type:"warning"}).then(function(){e.listLoadingRevoke=!0,p.default.put("/throw_strategy/record/",{id:t}).then(function(t){if(e.listLoadingRevoke=!1,0!==t.code)return void e.$message({message:t.message,type:"warning"});e.$message({message:"撤销成功",type:"success"}),e.getListRevoke()})})},selsRevokesChange:function(e){this.selsRevoke=e}},mounted:function(){this.getListPackage(),this.getListRevoke(),this.updateFormRevokeVersion()}}},712:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(79),o=i(s),r=a(69),n=a(80),l=i(n),u=a(274),c=i(u),d=a(56),p=i(d);t.default={data:function(){return{options:c.default.packageTypes,optionsAdd:c.default.packageType,optionsDefaultpath:c.default.defaultpath,optionsValue:0,list:[],total:0,page:1,page_limit:20,listLoading:!1,addFormVisible:!1,addForm:{},addFormRules:{szipname:[{required:!0,message:"请输入版本号",trigger:"blur"}]},addFileList:[],updateStrategyVisible:!1,updateStrategyList:[]}},methods:{getList:function(){var e=this,t={page:this.page,page_limit:this.page_limit,itype:this.optionsValue};this.listLoading=!0,p.default.get("/throw_strategy/zipfile/",t).then(function(t){e.listLoading=!1,e.total=t.total,t.data=t.data||[];for(var a=0;a<t.data.length;a++){var i=t.data[a];i.itype_name=c.default.findPackageName(i.itype),i.throw_count=i.idefault?"默认包":i.throw_count,i.iinserttime=l.default.getDate(i.iinserttime)}e.list=t.data})},queryList:function(){this.page=1,this.getList()},handleCurrentChange:function(e){this.page=e,this.getList()},handleListDel:function(e,t){var a=this;this.$confirm("确认删除该更新包吗？","删除提示",{type:"warning"}).then(function(){a.listLoading=!0,p.default.del("/throw_strategy/zipfile/",{id:t.id}).then(function(e){if(a.listLoading=!1,0!==e.code)return void a.$message({message:e.message,type:"warning"});a.$message({message:"删除成功",type:"success"}),a.getList()})})},handleListAdd:function(){this.addFormVisible=!0,this.addFileList=[],this.addForm={szipname:"",tag:"",itype:c.default.packageType[0].value,sremark:""}},handleFileError:function(e){this.$message({message:"上传失败 ["+e.status+"]",type:"error"})},handleFileSuccess:function(e){if(0!==e.code)return void this.$message({message:e.message,type:"error"});this.addFileList=[e.data.tag],l.default.log(this.addFileList)},addList:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a=(0,o.default)({},e.addForm);if(!a.szipname)return void e.$message({message:"请填写版本号",type:"warning"});if(a.tag=e.addFileList.length?e.addFileList[0]:"",l.default.log(a),!a.tag)return void e.$message({message:"请上传更新包",type:"warning"});p.default.post("/throw_strategy/zipfile/",a).then(function(t){if(0!==t.code)return void e.$message({message:t.message,type:"warning"});var a={1:"成功",2:"失败"};t.data=t.data||[];for(var i=0;i<t.data.length;i++)t.data[i].iupok_txt=a[t.data[i].iupok],t.data[i].szipname=e.addForm.szipname;e.addFormVisible=!1,e.updateStrategyVisible=!0,e.updateStrategyList=t.data})}})},submitUpdateStrategy:function(){function e(){var e=this;p.default.put("/throw_strategy/strategy/",a).then(function(a){if(0!==a.code)return void e.$message({message:a.message,type:"warning"});t.updateStrategyVisible=!1,t.getList(),t.$message({message:"提交更新策略配置成功",type:"success"})})}for(var t=this,a=[],i=!1,s=0;s<this.updateStrategyList.length;s++){var o=this.updateStrategyList[s],r=o.smd5,n=o.irun,l=o.ilevel,u=o.defaultpath;a[s]={smd5:r,irun:n,ilevel:l,defaultpath:u},i||2!==n||(i=!0)}i?e():this.$confirm("您没有设置下载后运行的文件，请确认是否继续提交！","警告",{type:"warning",confirmButtonText:"继续提交",cancelButtonText:"返回修改"}).then(function(){e()})},handleListExport:function(e,t){window.location.href="/throw_strategy/export_record/?infoid="+t.id},handleListDownload:function(e,t){if(!t.sfilepath)return void this.$message({message:"没有找到下载文件",type:"warning"});window.location.href=t.sfilepath},handleListShowStrategy:function(e,t){var a=this,i=r.Loading.service({fullscreen:!0,text:"获取策略中..."});p.default.get("/throw_strategy/strategy/",{id:t.id}).then(function(e){if(i.close(),0!==e.code)return void a.$message({message:e.message,type:"warning"});a.$alert(e.data.sstrategy,"查看更新包策略",{customClass:"el-message-strategy"})})}},mounted:function(){this.getList()}}},713:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(69),s=a(56),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={data:function(){return{tabs:[{name:"官方语言",voice_type:"official"},{name:"女神版",voice_type:"godess"},{name:"蔓蔓版",voice_type:"manman"},{name:"Lily版",voice_type:"lily"}],page:1,page_limit:1e3,voice_type:"official",total_num:0,total_size:0,listLoading:!1,list:[],addFormVisible:!1,addForm:{},addFileList:[]}},methods:{getList:function(){var e=this,t={page:this.page,page_limit:this.page_limit,voice_type:this.voice_type};this.listLoading=!0,o.default.get("/throw_strategy/voice/",t).then(function(t){if(e.listLoading=!1,0!==t.code)return void e.$message({message:t.message});t.data=t.data||[];for(var a=0;a<t.data.length;a++)t.data[a].isize=(t.data[a].isize/1024).toFixed(2)+"kb";e.list=t.data,e.total_num=t.total,e.total_size=(t.total_size/1024).toFixed(2)})},tabClick:function(e,t){this.page=1,this.total_num=0,this.total_size=0,this.list=[],this.voice_type=this.tabs[e.index].voice_type,this.getList()},handleFileError:function(e,t,a){this.$message({message:"上传失败 ["+e.status+"]",type:"error"})},handleFileSuccess:function(e,t,a){console.log(e,t,a)},addVoice:function(){this.addForm.voice_type=this.voice_type,this.$refs.upload.submit(),this.addFormVisible=!1},delVoice:function(e,t){var a=this;this.$confirm("确定删除该语音资源吗？","删除提示",{type:"warning"}).then(function(){a.listLoading=!0,o.default.del("/throw_strategy/voice/",{id:t.id}).then(function(e){if(a.listLoading=!1,0!==e.code)return void a.$message({message:e.message,type:"warning"});a.getList()})})},updateStrategy:function(){var e=this;this.$confirm("即将更新语音资源策略，请确认操作正确！","更新策略",{type:"warning"}).then(function(){var t=i.Loading.service({fullscreen:!0,text:"更新策略中..."});o.default.put("/throw_strategy/voice/").then(function(a){if(t.close(),0!==a.code)return void e.$message({message:a.message,type:"warning"});e.getList()})})}},mounted:function(){this.getList()}}},714:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(272),o=i(s),r=a(79),n=i(r),l=(a(69),a(80)),u=i(l),c=a(56),d=i(c),p=a(182),m=i(p);JSON.parse(sessionStorage.getItem("user"));t.default={data:function(){return{listGroupLoading:!1,listGroup:[],groupFormVisible:!1,groupFormIsAdd:!0,groupForm:{tgroup_name:"",tgroup_authority:[]},groupFormRules:{tgroup_name:[{required:!0,message:"请输入用户组名称",trigger:"blur"}]},groupMenuTree:[],defaultProps:{children:"children",label:"name"},listUserLoading:!1,listUser:[],userFormVisible:!1,userFormIsAdd:!0,userForm:{tuser_account:"",tuser_pwd:"",tuser_name:"",tgroup_id:""},userFormRules:{tuser_account:[{required:!0,message:"请输入用户名",trigger:"blur"}],tuser_pwd:[{required:!0,message:"请输入密码",trigger:"blur"}],tuser_name:[{required:!0,message:"请输入姓名",trigger:"blur"}],tgroup_id:[{required:!0,message:"请选择用户组",trigger:"change"}]}}},methods:{getUserGroup:function(){var e=this,t={tgroup_name:"",page:1,page_limit:100};this.listGroupLoading=!0,d.default.get("/sysmanage/user_group/",t).then(function(t){e.listGroupLoading=!1,t.data=t.data||[];for(var a=0;a<t.data.length;a++){var i=t.data[a];i.tlast_time=i.tlast_time?u.default.getDate(i.tlast_time):""}e.listGroup=t.data})},getUser:function(){var e=this,t={page:1,page_limit:100};this.listUserLoading=!0,d.default.get("/sysmanage/user/",t).then(function(t){e.listUserLoading=!1,t.data=t.data||[];for(var a=0;a<t.data.length;a++){var i=t.data[a];i.tcreater_time=u.default.getDate(i.tcreater_time),i.tlogin_time=i.tlogin_time?u.default.getDate(i.tlogin_time):""}e.listUser=t.data})},saveGroup:function(){var e=this;this.$refs.groupForm.validate(function(t){if(t){var a=(0,n.default)({},e.groupForm),i=e.$refs.groupMenuTree.getCheckedKeys().filter(function(e){return e}),s=e.groupFormIsAdd?d.default.post:d.default.put;a.tgroup_authority=(0,o.default)(i),s("/sysmanage/user_group/",a).then(function(t){if(0!==t.code)return void e.$message({message:t.message,type:"warning"});e.groupFormVisible=!1,e.$message({message:"保存成功",type:"success"}),e.getUserGroup()})}})},handleAddGroup:function(){this.groupFormVisible=!0,this.groupFormIsAdd=!0,void 0!==this.$refs.groupForm&&this.$refs.groupForm.resetFields(),this.groupForm={tgroup_name:"",tgroup_authority:[]},void 0!==this.$refs.groupMenuTree&&this.$refs.groupMenuTree.setCheckedKeys([],!0)},handleEditGroup:function(e,t){this.groupFormVisible=!0,this.groupFormIsAdd=!1,this.groupForm={tgroup_name:t.tgroup_name,tgroup_authority:t.tgroup_authority?JSON.parse(t.tgroup_authority):[]},void 0!==this.$refs.groupMenuTree&&this.$refs.groupMenuTree.setCheckedKeys(this.groupForm.tgroup_authority,!0)},handleDelGroup:function(e,t){var a=this;this.$confirm("确认删除该用户组吗？","删除提示",{type:"warning"}).then(function(){a.listGroupLoading=!0,d.default.del("/sysmanage/user_group/",{tgroup_name:t.tgroup_name}).then(function(e){if(a.listGroupLoading=!1,0!==e.code)return void a.$message({message:e.message,type:"warning"});a.$message({message:"删除成功",type:"success"}),a.getUserGroup()})})},saveUser:function(){var e=this;this.$refs.userForm.validate(function(t){if(t){var a=(0,n.default)({},e.userForm);(e.userFormIsAdd?d.default.post:d.default.put)("/sysmanage/user/",a).then(function(t){if(0!==t.code)return void e.$message({message:t.message,type:"warning"});e.userFormVisible=!1,e.$message({message:"保存成功",type:"success"}),e.getUser(),e.getUserGroup()})}})},handleAddUser:function(){this.userFormVisible=!0,this.userFormIsAdd=!0,void 0!==this.$refs.userForm&&this.$refs.userForm.resetFields(),this.userForm={tuser_account:"",tuser_pwd:"",tuser_name:"",tgroup_id:""}},handleEditUser:function(e,t){this.userFormVisible=!0,this.userFormIsAdd=!1,this.userForm={tuser_account:t.tuser_account,tuser_pwd:t.tuser_pwd,tuser_name:t.tuser_name,tgroup_id:t.tgroup_id}},handleDelUser:function(e,t){var a=this;this.$confirm("确认删除该用户吗？","删除提示",{type:"warning"}).then(function(){a.listUserLoading=!0,d.default.del("/sysmanage/user/",{tuser_account:t.tuser_account}).then(function(e){if(a.listUserLoading=!1,0!==e.code)return void a.$message({message:e.message,type:"warning"});a.$message({message:"删除成功",type:"success"}),a.getUser(),a.getUserGroup()})})}},mounted:function(){this.getUserGroup(),this.getUser();for(var e=0;e<m.default.length;e++)m.default[e].isMenu&&this.groupMenuTree.push(m.default[e])}}},715:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var s=a(279),o=(i(s),a(16)),r=i(o),n=a(275),l=i(n);a(277);var u=a(69),c=i(u);a(276);var d=a(278),p=i(d),m=a(280),g=i(m),f=a(181),h=i(f),v=a(182),_=i(v);r.default.use(c.default),r.default.use(p.default),r.default.use(h.default);var b=new p.default({routes:_.default});b.beforeEach(function(e,t,a){"/login"==e.path&&sessionStorage.removeItem("user"),JSON.parse(sessionStorage.getItem("user"))||"/login"==e.path?a():a({path:"/login"})}),new r.default({router:b,store:g.default,render:function(e){return e(l.default)}}).$mount("#app")},716:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.increment=function(e){(0,e.commit)("INCREMENT")},t.decrement=function(e){(0,e.commit)("DECREMENT")}},717:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getCount=function(e){return e.count}},80:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(281);t.default={log:function(e,t){i.LOG_DEBUG&&(t=t||"info",window.console&&("error"===t&&console.error?console.error(e):"warning"===t&&console.warn?console.warn(e):console.log(e)))},mergeArr:function(){return Array.prototype.concat.apply([],arguments)},getCache:function(e,t){var a=window.localStorage.getItem("operationplatform_"+e);return t&&a&&(a=JSON.parse(a)),a},setCache:function(e,t){window.localStorage.setItem("operationplatform_"+e,t)},removeCache:function(e){window.localStorage.removeItem("operationplatform_"+e)},getDate:function(e,t){10===String(e).length&&(e*=1e3),e=String(e).substr(0,13),e=new Date(Number(e));var a=e.getFullYear(),i=e.getMonth()+1,s=e.getDate(),o=e.getHours(),r=e.getMinutes(),n=e.getSeconds(),l=function(e){return e<10?"0"+e:e};switch(t){case"MDHMS":e=l(i)+"/"+l(s)+" "+l(o)+":"+l(r)+":"+l(n);break;case"MDHM":e=l(i)+"/"+l(s)+" "+l(o)+":"+l(r);break;case"MDHM-UT":e=l(i)+"月"+l(s)+"日 "+l(o)+":"+l(r);break;case"YMD":e=a+"-"+l(i)+"-"+l(s);break;case"MD":e=l(i)+"-"+l(s);break;case"HM":e=l(o)+":"+l(r);break;case"HMS":e=l(o)+":"+l(r)+":"+l(n);break;default:e=a+"-"+l(i)+"-"+l(s)+" "+l(o)+":"+l(r)+":"+l(n)}return e}}}},[715]);
//# sourceMappingURL=app.d4b65185789af3477ba0.js.map